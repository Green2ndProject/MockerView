<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§ˆì´í˜ì´ì§€ - MockerView</title>
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#667eea">
</head>
<style>
@import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700;800&display=swap');
* { margin: 0; padding: 0; box-sizing: border-box; }
body { 
    font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif; 
    color: #1a1a1a; 
    background: #f8f9fa;
    padding-top: 70px;
    min-height: 100vh;
}
.navbar { 
    position: fixed; 
    top: 0; 
    width: 100%; 
    background: rgba(255, 255, 255, 0.85); 
    backdrop-filter: blur(12px); 
    border-bottom: 1px solid rgba(0,0,0,0.04); 
    padding: 1rem 0; 
    z-index: 1000; 
}
.nav-container { 
    max-width: 1200px; 
    margin: 0 auto; 
    padding: 0 2rem; 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
}
.logo { 
    font-size: 1.375rem; 
    font-weight: 700; 
    color: #667eea; 
    text-decoration: none;
    z-index: 1001;
}
.nav-links { 
    display: flex; 
    gap: 2rem; 
    align-items: center; 
}
.nav-link { 
    color: #4a5568; 
    text-decoration: none; 
    font-weight: 500; 
    font-size: 0.9375rem; 
    transition: color 0.2s; 
}
.nav-link:hover { color: #667eea; }
.mobile-menu-toggle { 
    display: none; 
    flex-direction: column; 
    gap: 5px; 
    background: none; 
    border: none; 
    cursor: pointer; 
    padding: 8px; 
    z-index: 1001; 
}
.hamburger-line { 
    width: 24px; 
    height: 2px; 
    background: #667eea; 
    transition: all 0.3s; 
    border-radius: 2px; 
}
.mobile-menu-toggle.active .hamburger-line:nth-child(1) { 
    transform: rotate(45deg) translate(6px, 6px); 
}
.mobile-menu-toggle.active .hamburger-line:nth-child(2) { 
    opacity: 0; 
}
.mobile-menu-toggle.active .hamburger-line:nth-child(3) { 
    transform: rotate(-45deg) translate(6px, -6px); 
}
.mobile-menu-overlay { 
    display: none; 
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%; 
    background: rgba(0, 0, 0, 0.5); 
    z-index: 999; 
    opacity: 0; 
    transition: opacity 0.3s; 
}
.mobile-menu-overlay.active { 
    display: block; 
    opacity: 1; 
}
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 40px 20px;
}
.page-header {
    margin-bottom: 32px;
}
.page-header h1 {
    font-size: 2rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 8px;
}
.page-header p {
    color: #6b7280;
    font-size: 0.9375rem;
}
.role-badge {
    display: inline-block;
    padding: 4px 12px;
    background: #667eea;
    color: white;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    margin-left: 8px;
}
.profile-section {
    background: white;
    border-radius: 12px;
    padding: 32px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    margin-bottom: 24px;
}
.profile-header {
    display: flex;
    align-items: center;
    gap: 24px;
    margin-bottom: 32px;
    padding-bottom: 24px;
    border-bottom: 1px solid #e5e7eb;
}
.profile-avatar {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: #667eea;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    font-weight: 700;
}
.profile-info { flex: 1; }
.profile-name {
    font-size: 1.5rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 4px;
}
.profile-email {
    color: #6b7280;
    font-size: 0.9375rem;
    margin-bottom: 8px;
}
.profile-badge {
    display: inline-block;
    padding: 4px 12px;
    background: #f3f4f6;
    color: #4b5563;
    border-radius: 20px;
    font-size: 0.8125rem;
    font-weight: 600;
}
.analysis-section {
    margin-bottom: 24px;
}
.analysis-section h2 {
    font-size: 1.125rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 16px;
}
.analysis-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 12px;
    margin-bottom: 24px;
}
.analysis-card {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 16px;
    transition: all 0.2s;
}
.analysis-card:hover {
    box-shadow: 0 4px 12px rgba(102,126,234,0.12);
    transform: translateY(-2px);
}
.analysis-icon {
    font-size: 2.5rem;
}
.analysis-content { flex: 1; }
.analysis-title {
    font-size: 1rem;
    font-weight: 600;
    color: #374151;
    margin-bottom: 4px;
}
.analysis-subtitle {
    font-size: 0.8125rem;
    color: #9ca3af;
}
.menu-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 16px;
}
.menu-item {
    background: white;
    padding: 20px;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    text-decoration: none;
    color: #1a1a1a;
    transition: all 0.2s;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
}
.menu-item:hover {
    border-color: #667eea;
    box-shadow: 0 4px 12px rgba(102,126,234,0.08);
    transform: translateY(-2px);
}
.menu-icon { font-size: 2rem; }
.menu-title {
    font-size: 0.9375rem;
    font-weight: 600;
    text-align: center;
}
.stats-grid {
    background: white;
    border-radius: 12px;
    padding: 32px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    margin-bottom: 24px;
}
.stats-grid h2 {
    font-size: 1.25rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 24px;
}
.stats-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 24px;
}
.stat-card {
    text-align: center;
    padding: 20px;
    background: #f9fafb;
    border-radius: 8px;
}
.stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: #667eea;
    margin-bottom: 4px;
}
.stat-label {
    font-size: 0.875rem;
    color: #6b7280;
}
.subscription-section {
    background: white;
    border-radius: 12px;
    padding: 32px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    margin-bottom: 24px;
}
.subscription-section h2 {
    font-size: 1.25rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 20px;
}
.plan-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    background: #f9fafb;
    border-radius: 8px;
}
.plan-name {
    font-size: 1.125rem;
    font-weight: 700;
    color: #667eea;
}
.plan-details {
    font-size: 0.875rem;
    color: #6b7280;
    margin-top: 4px;
}
.quick-actions {
    background: white;
    border-radius: 12px;
    padding: 32px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}
.quick-actions h2 {
    font-size: 1.25rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 20px;
}
.action-buttons {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}
.btn-action {
    padding: 12px 24px;
    background: #667eea;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 0.9375rem;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
    transition: all 0.2s;
}
.btn-action:hover {
    background: #5568d3;
    color: white;
}
.btn-secondary {
    background: white;
    color: #667eea;
    border: 1.5px solid #667eea;
}
.btn-secondary:hover {
    background: #f7f8ff;
    color: #667eea;
}
.footer { 
    background: #000000; 
    color: #ffffff; 
    padding: 48px 2rem; 
    text-align: center; 
    margin-top: 40px;
}
.footer p { 
    font-size: 0.875rem; 
    margin: 0; 
    opacity: 0.9; 
}
@media (max-width: 768px) {
    .mobile-menu-toggle { display: flex; }
    .nav-links { 
        position: fixed; 
        top: 0; 
        right: -100%; 
        height: 100vh; 
        width: 280px; 
        background: white; 
        flex-direction: column; 
        gap: 0; 
        padding: 80px 0 0 0; 
        box-shadow: -4px 0 20px rgba(0, 0, 0, 0.1); 
        transition: right 0.3s ease-in-out; 
        z-index: 1000; 
        align-items: flex-start; 
    }
    .nav-links.active { right: 0; }
    .nav-link { 
        width: 100%; 
        padding: 1.2rem 2rem; 
        border-bottom: 1px solid #f3f4f6; 
    }
    .profile-header {
        flex-direction: column;
        text-align: center;
    }
    .analysis-grid {
        grid-template-columns: 1fr;
    }
    .menu-grid {
        grid-template-columns: 1fr 1fr;
    }
    .action-buttons {
        flex-direction: column;
    }
    .btn-action {
        width: 100%;
    }
}
</style>
<body>
<nav class="navbar">
    <div class="nav-container">
        <a href="/" class="logo">MockerView</a>
        <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="ë©”ë‰´">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
        </button>
        <div class="nav-links" id="navLinks">
            <a href="/sessions/list" class="nav-link">ë©´ì ‘ ì„¸ì…˜</a>
            <a href="/selfinterview/list" class="nav-link">ì…€í”„ ë©´ì ‘</a>
            <a href="/review/list" class="nav-link">ë¦¬ë·°</a>
            <a href="/auth/mypage" class="nav-link">ë§ˆì´í˜ì´ì§€</a>
            <a href="/auth/logout" class="nav-link" onclick="return confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')">ë¡œê·¸ì•„ì›ƒ</a>
        </div>
    </div>
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
</nav>

<div class="container">
    <div class="page-header">
        <h1 th:if="${user.role.name() == 'INTERVIEWEE'}">ë§ˆì´í˜ì´ì§€</h1>
        <h1 th:if="${user.role.name() == 'HOST' or user.role.name() == 'REVIEWER'}">ë©´ì ‘ê´€ ëŒ€ì‹œë³´ë“œ<span class="role-badge">B2B</span></h1>
        <p th:if="${user.role.name() == 'INTERVIEWEE'}">ê³„ì • ì •ë³´ ë° AI ë¶„ì„ ë¦¬í¬íŠ¸</p>
        <p th:if="${user.role.name() == 'HOST' or user.role.name() == 'REVIEWER'}">ë©´ì ‘ ì„¸ì…˜ ê´€ë¦¬ ë° í”¼ë“œë°± í˜„í™©</p>
    </div>
    
    <div class="profile-section">
        <div class="profile-header">
            <div class="profile-avatar" th:text="${user.name != null ? #strings.substring(user.name, 0, 1) : #strings.substring(user.username, 0, 1)}"></div>
            <div class="profile-info">
                <div class="profile-name" th:text="${user.name != null ? user.name : user.username}"></div>
                <div class="profile-email" th:text="${user.email}"></div>
                <span class="profile-badge" th:text="${user.role}"></span>
            </div>
        </div>
        
        <div th:if="${user.role.name() == 'STUDENT'}">
            <div class="analysis-section">
                <h2>ğŸ¯ AI ë¶„ì„ ë¦¬í¬íŠ¸</h2>
                <div class="analysis-grid">
                    <a href="/analysis/growth-comparison" class="analysis-card">
                        <div class="analysis-icon">ğŸ“ˆ</div>
                        <div class="analysis-content">
                            <div class="analysis-title">ì„±ì¥ ë¹„êµ ë¶„ì„</div>
                            <div class="analysis-subtitle">ì‹œê°„ë³„ ì ìˆ˜ ì¶”ì´</div>
                        </div>
                    </a>
                    <a href="/analysis/mbti-result" class="analysis-card">
                        <div class="analysis-icon">ğŸ§ </div>
                        <div class="analysis-content">
                            <div class="analysis-title">ë©´ì ‘ MBTI</div>
                            <div class="analysis-subtitle">ì„±í–¥ ë¶„ì„ ë¦¬í¬íŠ¸</div>
                        </div>
                    </a>
                    <a href="/analysis/voice-result" class="analysis-card">
                        <div class="analysis-icon">ğŸ™ï¸</div>
                        <div class="analysis-content">
                            <div class="analysis-title">ìŒì„± ë¶„ì„</div>
                            <div class="analysis-subtitle">ë°œìŒ/ì–µì–‘/ì†ë„</div>
                        </div>
                    </a>
                    <a href="/analysis/facial-result" class="analysis-card">
                        <div class="analysis-icon">ğŸ˜Š</div>
                        <div class="analysis-content">
                            <div class="analysis-title">í‘œì • ë¶„ì„</div>
                            <div class="analysis-subtitle">ë¹„ì–¸ì–´ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜</div>
                        </div>
                    </a>
                </div>
            </div>
            
            <div class="menu-grid">
                <a href="/auth/mypage/stats" class="menu-item">
                    <span class="menu-icon">ğŸ“Š</span>
                    <span class="menu-title">í™œë™ í†µê³„</span>
                </a>
                <a href="/payment/plans" class="menu-item">
                    <span class="menu-icon">ğŸ’</span>
                    <span class="menu-title">í”Œëœ ì—…ê·¸ë ˆì´ë“œ</span>
                </a>
                <a href="/payment/history" class="menu-item">
                    <span class="menu-icon">ğŸ’³</span>
                    <span class="menu-title">ê²°ì œ ë‚´ì—­</span>
                </a>
                <a href="/auth/mypage/withdraw" class="menu-item">
                    <span class="menu-icon">ğŸšª</span>
                    <span class="menu-title">íšŒì› íƒˆí‡´</span>
                </a>
            </div>
        </div>
        
        <div class="menu-grid" th:if="${user.role.name() == 'HOST' or user.role.name() == 'REVIEWER'}">
            <a href="/auth/mypage/stats" class="menu-item">
                <span class="menu-icon">ğŸ“Š</span>
                <span class="menu-title">ë©´ì ‘ê´€ í†µê³„</span>
            </a>
            <a href="/sessions/list" class="menu-item">
                <span class="menu-icon">ğŸ‘¥</span>
                <span class="menu-title">ì„¸ì…˜ ê´€ë¦¬</span>
            </a>
            <a href="/payment/history" class="menu-item">
                <span class="menu-icon">ğŸ’³</span>
                <span class="menu-title">ê²°ì œ ë‚´ì—­</span>
            </a>
            <a href="/auth/mypage/withdraw" class="menu-item">
                <span class="menu-icon">ğŸšª</span>
                <span class="menu-title">íšŒì› íƒˆí‡´</span>
            </a>
        </div>
    </div>
    
    <div class="subscription-section" th:if="${planType != null}">
        <h2>êµ¬ë… ì •ë³´</h2>
        <div class="plan-info">
            <div>
                <div class="plan-name" th:text="${planType}">FREE</div>
                <div class="plan-details">
                    <span th:text="${usedSessions}">0</span> / <span th:text="${sessionLimit}">5</span> ì„¸ì…˜ ì‚¬ìš©ì¤‘
                    <span th:if="${endDate != null}"> Â· ë§Œë£Œì¼: <span th:text="${#temporals.format(endDate, 'yyyy-MM-dd')}"></span></span>
                </div>
            </div>
            <a href="/payment/plans" class="btn-action btn-secondary" th:if="${planType == 'FREE'}">ì—…ê·¸ë ˆì´ë“œ</a>
        </div>
    </div>
    
    <div class="stats-grid" th:if="${user.role.name() == 'STUDENT'}">
        <h2>ë‚˜ì˜ í™œë™ í†µê³„</h2>
        <div class="stats-row">
            <div class="stat-card">
                <div class="stat-value" th:text="${participatedSessionCount != null ? participatedSessionCount : 0}">0</div>
                <div class="stat-label">ì°¸ì—¬í•œ ì„¸ì…˜</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" th:text="${answerCount != null ? answerCount : 0}">0</div>
                <div class="stat-label">ì‘ì„±í•œ ë‹µë³€</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" th:text="${answersWithVideo != null ? answersWithVideo.size() : 0}">0</div>
                <div class="stat-label">ì˜ìƒ ë…¹í™”</div>
            </div>
        </div>
    </div>
    
    <div class="stats-grid" th:if="${user.role.name() == 'HOST' or user.role.name() == 'REVIEWER'}">
        <h2>ë©´ì ‘ê´€ í™œë™ í†µê³„</h2>
        <div class="stats-row">
            <div class="stat-card">
                <div class="stat-value" th:text="${hostedSessions != null ? hostedSessions.size() : 0}">0</div>
                <div class="stat-label">ì£¼ìµœí•œ ì„¸ì…˜</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" th:text="${sessionsWithRecording != null ? sessionsWithRecording.size() : 0}">0</div>
                <div class="stat-label">ë…¹í™”ëœ ì„¸ì…˜</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">0</div>
                <div class="stat-label">ì‘ì„±í•œ í”¼ë“œë°±</div>
            </div>
        </div>
    </div>
    
    <div class="quick-actions" th:if="${user.role.name() == 'STUDENT'}">
        <h2>ë¹ ë¥¸ ì‘ì—…</h2>
        <div class="action-buttons">
            <a href="/sessions/list" class="btn-action">ë©´ì ‘ ì°¸ì—¬í•˜ê¸°</a>
            <a href="/selfinterview/create" class="btn-action btn-secondary">ì…€í”„ ë©´ì ‘ ì‹œì‘</a>
            <a href="/review/my" class="btn-action btn-secondary">ë‚´ ë¦¬ë·° ë³´ê¸°</a>
        </div>
    </div>
    
    <div class="quick-actions" th:if="${user.role.name() == 'HOST' or user.role.name() == 'REVIEWER'}">
        <h2>ë¹ ë¥¸ ì‘ì—…</h2>
        <div class="action-buttons">
            <a href="/sessions/create" class="btn-action">ìƒˆ ì„¸ì…˜ ìƒì„±</a>
            <a href="/sessions/list" class="btn-action btn-secondary">ì„¸ì…˜ ê´€ë¦¬</a>
            <a href="/auth/mypage/stats" class="btn-action btn-secondary">ìƒì„¸ í†µê³„ ë³´ê¸°</a>
        </div>
    </div>
</div>

<footer class="footer">
    <p>&copy; 2025 MockerView. êµ­ë‚´ ìµœì´ˆ ì‹¤ì‹œê°„ í˜‘ì—… AI ëª¨ì˜ë©´ì ‘ í”Œë«í¼ â€¢ ëª¨ë“  ê¶Œë¦¬ ë³´ìœ </p>
</footer>

<script src="/js/push-init.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const toggle = document.getElementById('mobileMenuToggle');
    const links = document.getElementById('navLinks');
    const overlay = document.getElementById('mobileMenuOverlay');
    if (toggle && links && overlay) {
        toggle.addEventListener('click', function() {
            toggle.classList.toggle('active');
            links.classList.toggle('active');
            overlay.classList.toggle('active');
            document.body.style.overflow = links.classList.contains('active') ? 'hidden' : '';
        });
        overlay.addEventListener('click', function() {
            toggle.classList.remove('active');
            links.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = '';
        });
    }
});
</script>
</body>
</html>
