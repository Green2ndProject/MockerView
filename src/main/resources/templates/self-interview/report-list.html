<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <div th:replace="~{fragments/head :: head}"></div>
    <title>ì…€í”„ ë©´ì ‘ ë¦¬í¬íŠ¸ - MockerView</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css"
    />
    <div th:replace="~{fragments/styles :: styles}"></div>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Pretendard", sans-serif;
        background: #f8f9fa;
      }

      .navbar {
        background: white;
        border-bottom: 1px solid #e5e7eb;
        padding: 1rem 0;
        position: sticky;
        top: 0;
        z-index: 1000;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
      }

      .navbar-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .navbar-brand {
        font-size: 1.5rem;
        font-weight: 700;
        color: #667eea;
        text-decoration: none;
      }

      .navbar-menu {
        display: flex;
        gap: 2rem;
        list-style: none;
      }

      .navbar-menu a {
        color: #4b5563;
        text-decoration: none;
        font-weight: 500;
        transition: color 0.2s;
      }

      .navbar-menu a:hover {
        color: #667eea;
      }

      .page-header {
        padding: 3rem 0 2rem;
      }

      .page-title {
        font-size: 2rem;
        font-weight: 700;
        color: #0a0a0a;
        margin-bottom: 0.5rem;
      }

      .page-subtitle {
        color: #6b7280;
        font-size: 1rem;
      }

      .stats-cards {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1.5rem;
        margin-bottom: 2rem;
      }

      .stat-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        border: 1px solid #e5e7eb;
      }

      .stat-label {
        font-size: 0.875rem;
        color: #6b7280;
        font-weight: 600;
        margin-bottom: 0.5rem;
      }

      .stat-value {
        font-size: 2rem;
        font-weight: 700;
        color: #667eea;
      }

      .reports-grid {
        display: grid;
        gap: 1.5rem;
      }

      .report-card {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        border: 1px solid #e5e7eb;
        transition: all 0.2s;
        cursor: pointer;
      }

      .report-card:hover {
        border-color: #667eea;
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        transform: translateY(-2px);
      }

      .report-header {
        display: flex;
        justify-content: space-between;
        align-items: start;
        margin-bottom: 1.5rem;
      }

      .report-info h3 {
        font-size: 1.25rem;
        font-weight: 700;
        color: #0a0a0a;
        margin-bottom: 0.5rem;
      }

      .report-meta {
        font-size: 0.875rem;
        color: #6b7280;
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
      }

      .report-badge {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        background: #f0f4ff;
        color: #667eea;
        border-radius: 12px;
        font-size: 0.8125rem;
        font-weight: 600;
      }

      .report-scores {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
        margin-bottom: 1rem;
      }

      .score-box {
        text-align: center;
        padding: 1rem;
        background: #fafbfc;
        border-radius: 10px;
        border: 1px solid #e5e7eb;
      }

      .score-value {
        font-size: 2rem;
        font-weight: 700;
        color: #667eea;
        margin-bottom: 0.25rem;
      }

      .score-label {
        font-size: 0.8125rem;
        color: #6b7280;
      }

      .btn-view {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1.5rem;
        background: #667eea;
        color: white;
        border-radius: 8px;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.9375rem;
        transition: all 0.2s;
      }

      .btn-view:hover {
        background: #5568d3;
      }

      .empty-state {
        text-align: center;
        padding: 5rem 2rem;
        background: white;
        border-radius: 12px;
        border: 1px solid #e5e7eb;
      }

      .empty-icon {
        font-size: 5rem;
        margin-bottom: 1.5rem;
      }

      .empty-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: #0a0a0a;
        margin-bottom: 1rem;
      }

      .empty-desc {
        color: #6b7280;
        margin-bottom: 2rem;
      }

      .btn-primary {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 1rem 2rem;
        background: #667eea;
        color: white;
        border-radius: 10px;
        text-decoration: none;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.2s;
      }

      .btn-primary:hover {
        background: #5568d3;
        transform: translateY(-2px);
      }

      @media (max-width: 1024px) {
        .stats-cards {
          grid-template-columns: repeat(2, 1fr);
        }

        .report-scores {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      @media (max-width: 768px) {
        .container {
          padding: 0 1rem;
        }

        .stats-cards {
          grid-template-columns: 1fr;
        }

        .report-scores {
          grid-template-columns: 1fr;
        }

        .report-header {
          flex-direction: column;
          gap: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div th:replace="~{fragments/navbar :: navbar}"></div>
    <!-- <nav class="navbar">
      <div class="container">
        <div class="navbar-content">
          <a href="/" class="navbar-brand">MockerView</a>
          <ul class="navbar-menu">
            <li><a href="/session/list">ì„¸ì…˜ ëª©ë¡</a></li>
            <li><a href="/selfinterview/create-ai">ì…€í”„ ë©´ì ‘</a></li>
            <li><a href="/auth/mypage">ë§ˆì´í˜ì´ì§€</a></li>
            <li><a href="/logout">ë¡œê·¸ì•„ì›ƒ</a></li>
          </ul>
        </div>
      </div>
    </nav> -->

    <div class="page-header">
      <div class="container">
        <h1 class="page-title">ğŸ¯ ì…€í”„ ë©´ì ‘ ë¦¬í¬íŠ¸</h1>
        <p class="page-subtitle">ë‚˜ì˜ AI ë©´ì ‘ ì—°ìŠµ ê¸°ë¡ì„ í™•ì¸í•˜ì„¸ìš”</p>
      </div>
    </div>

    <div class="container">
      <div
        class="stats-cards"
        th:if="${reports != null and !reports.isEmpty()}"
      >
        <div class="stat-card">
          <div class="stat-label">ì´ ì—°ìŠµ íšŸìˆ˜</div>
          <div class="stat-value" th:text="${reports.size()}">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">í‰ê·  ì¢…í•© ì ìˆ˜</div>
          <div
            class="stat-value"
            th:text="${#numbers.formatDecimal(avgOverall, 1, 1)}"
          >
            0.0
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-label">ì´ ì§ˆë¬¸ ìˆ˜</div>
          <div class="stat-value" th:text="${totalQuestions}">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">ìµœê³  ì ìˆ˜</div>
          <div
            class="stat-value"
            th:text="${#numbers.formatDecimal(maxScore, 1, 1)}"
          >
            0.0
          </div>
        </div>
      </div>

      <div
        class="reports-grid"
        th:if="${reports != null and !reports.isEmpty()}"
      >
        <div
          class="report-card"
          th:each="report : ${reports}"
          th:onclick="'location.href=\'/self-interview/reports/' + ${report.id} + '\''"
        >
          <div class="report-header">
            <div class="report-info">
              <h3 th:text="${report.categoryName}">ì¹´í…Œê³ ë¦¬</h3>
              <div class="report-meta">
                <span th:text="${report.questionType}">TECHNICAL</span>
                <span
                  >ë‚œì´ë„ <span th:text="${report.difficulty}">1</span></span
                >
                <span
                  >ì§ˆë¬¸
                  <span th:text="${report.totalQuestions}">5</span>ê°œ</span
                >
                <span
                  th:text="${#temporals.format(report.createdAt, 'yyyy-MM-dd HH:mm')}"
                  >2025-01-01 10:00</span
                >
              </div>
            </div>
            <span class="report-badge" th:text="${report.categoryCode}"
              >DEV_FRONTEND</span
            >
          </div>

          <div class="report-scores">
            <div class="score-box">
              <div
                class="score-value"
                th:text="${report.overallAvg != null ? #numbers.formatDecimal(report.overallAvg, 1, 1) : '-'}"
              >
                -
              </div>
              <div class="score-label">ì¢…í•©</div>
            </div>
            <div class="score-box">
              <div
                class="score-value"
                th:text="${report.textAvg != null ? #numbers.formatDecimal(report.textAvg, 1, 1) : '-'}"
              >
                -
              </div>
              <div class="score-label">í…ìŠ¤íŠ¸</div>
            </div>
            <div class="score-box">
              <div
                class="score-value"
                th:text="${report.audioAvg != null ? #numbers.formatDecimal(report.audioAvg, 1, 1) : '-'}"
              >
                -
              </div>
              <div class="score-label">ìŒì„±</div>
            </div>
            <div class="score-box">
              <div
                class="score-value"
                th:text="${report.videoAvg != null ? #numbers.formatDecimal(report.videoAvg, 1, 1) : '-'}"
              >
                -
              </div>
              <div class="score-label">ì˜ìƒ</div>
            </div>
          </div>

          <a
            th:href="@{/self-interview/reports/{id}(id=${report.id})}"
            class="btn-view"
            onclick="event.stopPropagation()"
          >
            ìƒì„¸ ë³´ê¸° â†’
          </a>
        </div>
      </div>

      <div class="empty-state" th:if="${reports == null or reports.isEmpty()}">
        <div class="empty-icon">ğŸ¯</div>
        <h2 class="empty-title">ì•„ì§ ì…€í”„ ë©´ì ‘ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤</h2>
        <p class="empty-desc">
          AIì™€ í•¨ê»˜ í˜¼ìì„œë„ ë©´ì ‘ ì—°ìŠµì„ ì‹œì‘í•´ë³´ì„¸ìš”.<br />ì§ˆë¬¸ ìƒì„±ë¶€í„°
          í”¼ë“œë°±ê¹Œì§€ ìë™ìœ¼ë¡œ ì œê³µë©ë‹ˆë‹¤.
        </p>
        <a href="/selfinterview/create-ai" class="btn-primary">
          âœ¨ ì…€í”„ ë©´ì ‘ ì‹œì‘í•˜ê¸°
        </a>
      </div>
    </div>

    <div th:replace="~{fragments/footer :: footer}"></div>
    <div th:replace="~{fragments/scripts :: scripts}"></div>
  </body>
</html>
